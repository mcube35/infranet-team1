{% extends "base.html" %}
<!-- Flash 메시지 표시 영역 -->
{% with messages = get_flashed_messages() %}
    {% if messages %}
        <div style="margin-bottom: 1em;">
            {% for msg in messages %}
                <div style="padding: 10px; border: 1px solid #ccc; background-color: #f8f9fa; color: #333; border-radius: 6px;">
                    {{ msg }}
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

{% block title %}업무 수정{% endblock %}

{% block content %}
    <h1>업무 수정</h1>

    <form method="POST" enctype="multipart/form-data" action="{{ url_for('task.edit_get', task_id=task._id) }}">
        제목: <input type="text" name="title" value="{{ task.title }}" required><br>
        팀:
        <select name="team">
            <option value="개발팀" {% if task.team == "개발팀" %}selected{% endif %}>개발팀</option>
            <option value="영업팀" {% if task.team == "영업팀" %}selected{% endif %}>영업팀</option>
        </select><br>
        상태:
        <select name="status">
            <option value="대기중" {% if task.status == "대기중" %}selected{% endif %}>대기중</option>
            <option value="진행중" {% if task.status == "진행중" %}selected{% endif %}>진행중</option>
            <option value="완료" {% if task.status == "완료" %}selected{% endif %}>완료</option>
        </select><br>
        우선순위:
        <select name="priority">
            <option value="낮음" {% if task.priority == "낮음" %}selected{% endif %}>낮음</option>
            <option value="보통" {% if task.priority == "보통" %}selected{% endif %}>보통</option>
            <option value="높음" {% if task.priority == "높음" %}selected{% endif %}>높음</option>
        </select><br>
        마감일: <input type="date" name="due_date" required><br>
        첨부파일 변경: <input type="file" name="file"><br>

        <button type="submit">수정 완료</button>
    </form>
{% endblock %}