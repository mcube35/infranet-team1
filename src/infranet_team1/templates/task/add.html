{% extends "base.html" %}

{% block title %}ì—…ë¬´ ë“±ë¡{% endblock %}

{% block content %}
<h1>ğŸ“ ì—…ë¬´ ë“±ë¡</h1>

<!-- íŒ€ë³„ íƒ­ -->
<div style="margin-bottom: 20px;">
    <strong>íŒ€ ì„ íƒ:</strong>
    <button type="button" onclick="selectTeam('ê°œë°œíŒ€')">ê°œë°œíŒ€</button>
    <button type="button" onclick="selectTeam('ì˜ì—…íŒ€')">ì˜ì—…íŒ€</button>
</div>

<!-- ì—…ë¬´ ì¹´í…Œê³ ë¦¬ íƒ­ (ì˜ˆì‹œ) -->
<div style="margin-bottom: 20px;">
    <strong>ì—…ë¬´ ì¹´í…Œê³ ë¦¬:</strong>
    <button type="button">ê¸°íš</button>
    <button type="button">ë””ìì¸</button>
    <button type="button">ê°œë°œ</button>
</div>

<!-- ë“±ë¡ í¼ -->
<form method="POST" enctype="multipart/form-data">
    <input type="hidden" name="team" id="teamInput" value="ê°œë°œíŒ€">

    <label>ì œëª©:
        <input type="text" name="title" required>
    </label><br><br>

    <label>ìƒì„¸ ì„¤ëª…:<br>
        <textarea name="description" rows="4" cols="60" required></textarea>
    </label><br><br>

    <label>ìƒíƒœ:
        <select name="status" required onchange="updateProgress(this.value)">
            <option value="ëŒ€ê¸°ì¤‘">ëŒ€ê¸°ì¤‘</option>
            <option value="ì§„í–‰ì¤‘">ì§„í–‰ì¤‘</option>
            <option value="ì™„ë£Œ">ì™„ë£Œ</option>
        </select>
    </label>

    <!-- ì§„í–‰ë¥  ë°” -->
    <div style="width: 300px; background-color: #eee; border-radius: 5px; margin-top: 10px;">
        <div id="progressBar" style="width: 0%; background-color: #4caf50; height: 15px; border-radius: 5px;"></div>
    </div><br>

    <label>ìš°ì„ ìˆœìœ„:
        <select name="priority" required>
            <option value="ë‚®ìŒ">ë‚®ìŒ</option>
            <option value="ë³´í†µ" selected>ë³´í†µ</option>
            <option value="ë†’ìŒ">ë†’ìŒ</option>
        </select>
    </label><br><br>

    <label>ë§ˆê°ì¼:
        <input type="date" name="due_date" required>
    </label><br><br>

    <label>ì²¨ë¶€íŒŒì¼:
        <input type="file" name="file">
    </label><br><br>

    <button type="submit">ë“±ë¡</button>
    <a href="{{ url_for('task.home') }}">ì·¨ì†Œ</a>
</form>

<script>
function selectTeam(team) {
    document.getElementById('teamInput').value = team;
    alert("ì„ íƒëœ íŒ€: " + team);
}

function updateProgress(status) {
    const bar = document.getElementById("progressBar");
    let percent = 0;
    if (status === "ëŒ€ê¸°ì¤‘") percent = 0;
    else if (status === "ì§„í–‰ì¤‘") percent = 50;
    else if (status === "ì™„ë£Œ") percent = 100;
    bar.style.width = percent + "%";
}
</script>
{% endblock %}